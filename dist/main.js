(()=>{"use strict";class e{constructor(e,t,n,c){this.title=e,this.description=t,this.date=n,this.priority=c}displayCARD(){const e=document.createElement("div");e.classList="card";const t=document.createElement("h3");t.textContent=this.title;const n=document.createElement("p");n.textContent=this.description;const c=document.createElement("p");c.textContent=this.date;const d=document.createElement("INPUT");d.setAttribute("type","checkbox"),d.addEventListener("change",(t=>{t.target.checked?e.classList.add("done"):e.classList.remove("done")}));const a=document.createElement("button");return a.classList.add("remove"),a.textContent="x",a.addEventListener("click",(()=>{e.classList.add("removed")})),e.appendChild(t),e.appendChild(n),e.appendChild(c),e.appendChild(d),e.appendChild(a),e}}const t=document.querySelector(".main");function n(e){i.forEach((n=>{n.name===e&&t.appendChild(n.displayDOM())}))}function c(){for(;t.firstChild;)t.removeChild(t.lastChild)}function d(){document.querySelectorAll(".project-btn").forEach((e=>{e.textContent===r[0]?e.classList.add("selected"):e.classList.remove("selected")}))}const a=document.querySelector("#form-container"),s=document.querySelector(".form");function o(){a.style.display="none"}const i=[],r=[];class l{cardlist=[];constructor(e){this.name=e}addCard(e){this.cardlist.push(e)}removeCard(e){this.cardlist.forEach(((t,n)=>{t.title===e&&this.cardlist.splice(n,1)}))}displayDOM(){const e=document.createElement("div");e.classList="project";const t=document.createElement("h2");return t.textContent=this.name,e.appendChild(t),this.cardlist.forEach((t=>{e.appendChild(t.displayCARD())})),e}appendToNav(){const e=document.querySelector(".project-btns"),t=document.createElement("li");t.classList="js-li-project";const a=document.createElement("button");a.classList.add("project-btn"),a.textContent=this.name,a.addEventListener("click",(e=>{r[0]=this.name,c(),n(this.name),d()}));const s=document.createElement("button");s.classList="remove",s.textContent="x",s.addEventListener("click",(()=>{e.removeChild(t);const n=i.findIndex((e=>e.name===this.name));i.splice(n,1)})),t.appendChild(a),t.appendChild(s),e.appendChild(t)}}const m=new Date,p=m.getFullYear()+"-"+("0"+(m.getMonth()+1)).slice(-2)+"-"+("0"+m.getDate()).slice(-2),u=new e("Comida 1","Comprar comida",p,"high"),h=new e("Comida 2","Comprar mÃ¡s comida",p,"medium"),C=new l("Default Project");var E;i.push(C),C.appendToNav(),C.addCard(u),C.addCard(h),n("Default Project"),r[0]=C.name,d(),E=()=>{const e=window.prompt("Project name:"),t=new l(e);i.push(t),t.appendToNav(),c(),n(t.name),r[0]=t.name,d()},document.querySelector("#js-add-project").addEventListener("click",(()=>{E()})),document.querySelectorAll(".card button").forEach((e=>e.addEventListener("click",(t=>{project.removeCard(e.classList[1])})))),document.querySelector("#js-btn-cards").addEventListener("click",(()=>{a.style.display="flex"})),a.addEventListener("click",(e=>{"form-container"===e.target.id&&o()})),s.addEventListener("submit",(t=>{!function(t){t.preventDefault();const n=new FormData(t.target),c=Object.fromEntries(n),d=new e(c.title,c.description,c.date,c.priority);i.forEach((e=>{e.name===r[0]&&e.addCard(d)}))}(t),s.reset(),o(),c(),n(r[0])}))})();